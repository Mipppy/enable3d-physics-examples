<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <noscript><h1>I'm sorry...</h1><br><h2>The physics simulator <b>needs</b> javascript to run.</h2></noscript>
  <h1 id="fps" style="position: absolute; color:grey"></h1>
  <div id="value-changer" style="display: none;">
    <h3 id="selected-object">Square</h3>
    <div class="editor" name="square">
      <h6 class="label">Width</h6>
      <input type="number" id="square-width" min="0" onkeyup="enforceMinMax(this)">
      <!--Has to have class editor or it will not show correctly-->
      <h6 class="label">Height</h6>
      <input type="number" id="square-height" min="0" onkeyup="enforceMinMax(this)">
      <h6 class="label">Depth</h6>
      <input type="number" id="square-length" min="0" onkeyup="enforceMinMax(this)">
    </div>
    <div class="editor" name="circle">
      <h6 class="label">Radius</h6>
      <input type="number" id="circle-radius" min="0" onkeyup="enforceMinMax(this)">
      <h6 class="label">Width Segments</h6>
      <input type="number" min="0" max="100" id="circle-width-segments" onkeyup="enforceMinMax(this)">
      <h6 class="label">Height Segments</h6>
      <input type="number" min="0" max="100" id="circle-height-segments" onkeyup="enforceMinMax(this)">
    </div>
    <div class="editor" name="cylinder">
      <h6 class="label">Top Radius</h6>
      <input type="number" id="top-radius" min="0" onkeyup="enforceMinMax(this)">
      <h6 class="label">Bottom Radius</h6>
      <input type="number" id="bottom-radius" min="0" onkeyup="enforceMinMax(this)">
      <h6 class="label">Height</h6>
      <input type="number" id="cylinder-height" min="0" onkeyup="enforceMinMax(this)">
      <h6 class="label">Radial Segments</h6>
      <input type="number" id="cylinder-segments" min="0" onkeyup="enforceMinMax(this)">
      <h6 class="label">Start on side</h6>
      <input type="checkbox" id="cylinder-start-on-side">
    </div>
    <div class="editor" name="torus">
      <h6 class="label">Start on side</h6>
      <input type="checkbox" id="torus-start-on-side">
      <h6 class="label">Tube</h6>
      <input type="number" id="torus-tube" min="0" max="10" onkeyup="enforceMinMax(this)">
      <h6 class="label">Radial Segments</h6>
      <input type="number" id="torus-radial-segments" min="0" max="100" onkeyup="enforceMinMax(this)">
      <h6 class="label">Tubular Segments</h6>
      <input type="number" id="torus-tubular-segments" min="0" max="100" onkeyup="enforceMinMax(this)">
      <h6 class="label">Radius</h6>
      <input type="number" id="torus-radius" min="0" max="100" onkeyup="enforceMinMax(this)">
    </div>
    <div class="editor" name="cone">
      <h6 class="label">Radius</h6>
      <input type="number" min="0" id="cone-radius" onkeyup="enforceMinMax(this)">
      <h6 class="label">Height</h6>
      <input type="number" min="0" id="cone-height" onkeyup="enforceMinMax(this)">
      <h6 class="label">Radial Segments</h6>
      <input type="number" min="0" id="cone-radial-segments" onkeyup="enforceMinMax(this)">
      <h6 class="label">Height Segments</h6>
      <input type="number" min="0" id="cone-height-segments" onkeyup="enforceMinMax(this)">
    </div>
    <div>
      <h6 class="label">Color</h6>
      <input type="color" id="color" onkeyup="enforceMinMax(this)">
      <h6 class="label">Gravity</h6>
      <input type="number" min="-1000" id="gravity" max="1000" onkeyup="enforceMinMax(this)">
      <h6 class="label">Bounce</h6>
      <input type="number" min="-1000" id="bounce" max="1000" onkeyup="enforceMinMax(this)">
      <h6 class="label">Friction</h6>
      <input type="number" min="-1000" max="1000" id="friction" onkeyup="enforceMinMax(this)">
      <h6 class="label">Breakable</h6>
      <input type="checkbox" id="breakable">
      <h6 class="label">Fracture Impluse</h6>
      <input type="number" min="-10" max="100" id="fracture-impluse" onkeyup="enforceMinMax(this)" disabled>
      <h6 class="label">Type</h6>
    </div>
    <select id="object-type">
      <option value="0">Dynamic</option>
      <option value="1">Static</option>
      <option value="2">Kinematic</option>
      <option value="4">Ghost</option>
    </select>
  </div>
  <div id="sidebar-container">
    <div id="subcontainer">
      <select name="options" id="options-menu">
        <option value="0" name="Cube">Cube</option>
        <option value="1" name="Sphere">Sphere</option>
        <option value="2" name="Cylinder">Cylinder</option>
        <option value="3" name="Torus">Torus</option>
        <option value="4" name="Cone">Cone</option>
        <option disabled selected>Shape</option>
      </select>
      <select name="map" id="map">
        <option value="0">Default</option>
        <option value="1">Slope</option>
        <option value="2">Mountain</option>
        <option disabled selected>Map</option>
      </select>
      <button id="delete-tool-activation" title="Delete tool activation"><img src="assets/deletetool.svg"></button>
      <button onclick="openHelpMenu()" class="open-help-menu" title="help-menu"><img src="assets/helpmenu.svg"></button>
      <button title="Github"><a href="https://github.com/Mipppy/web-physics"><img src="assets/github.svg"></a></button>
    </div>
  </div>
  <div id="help-menu">
    <button onclick="openHelpMenu()" class="close-help-menu">X</button>
    <div class="tab">
      <button class="help-menu-tabs" onclick="openTab('help-tab-properties')">Properties</button>
      <button class="help-menu-tabs" onclick="openTab('help-tab-faq')">FAQ</button>
    </div>
    <div class="help-tab-properties tab-menu">
      <h1>Properties</h1>
      <p>Properties are the options you set when you summon a shape. They change the physical and interaction view of
        objects. This menu will explain what each property does.</p>
      <br>
      <h3>Global Properties</h3>
      <p>All objects share these properties</p>
      <table>
        <tr>
          <td><b>Property</b></td>
          <td><b>Description</b></td>
        </tr>
        <tr>
          <td>Color</td>
          <td>Sets the color of an object</td>
        </tr>
        <tr>
          <td>Gravity</td>
          <td>Sets the gravity of an object. Positive numbers will make it fly into the air. Negative numbers will
            affect how fast it falls or goes down slopes. Setting it to 0 will make it have no gravity.</td>
        </tr>
        <tr>
          <td>Bounce</td>
          <td>Sets the bounce of an object. Bounce of 100 will make it bounce forever. Bounce above 100 will multiple
            it's speed by that amount. Negative bounce has strange effects. Try it out!</td>
        </tr>
        <tr>
          <td>Friction</td>
          <td>Sets the friction of an object. Higher values will make an object stop quicker. Setting it to 0 will make
            it have no friction and never stop sliding. Negative friction has the same weird effects as Bounce</td>
        </tr>
        <tr>
          <td>Type</td>
          <td>Sets the type of an object. Dynamic are normal objects that interact with physics. Static object's hitbox
            can be moved, but the display will stay the same. Kinematic objects are completely stationary and cannot be
            moved. Ghost objects do not interact with anything</td>
        </tr>
        <tr>
          <td>Breakable</td>
          <td>Sets whether an object can break from a hard impact.  Broken objects do add up quickly, and can cause a reduced framerate.</td>
        </tr>
        <tr>
          <td>Fractue Impluse</td>
          <td>Sets how much force is needed in order to break an object.  Can only be set if breakable is turned on.</td>
        </tr>
      </table>

      <br>
      <hr>
      <table>
        <h3>Cube Properties</h3>
        <p>All properties for cubes</p>
        <tr>
          <td><b>Property</b></td>
          <td><b>Description</b></td>
        </tr>
        <tr>
          <td>Width</td>
          <td>Sets the width of the cube</td>
        </tr>
        <tr>
          <td>Height</td>
          <td>Sets the height of the cube</td>
        </tr>
        <tr>
          <td>Depth</td>
          <td>Sets the depth of the cube</td>
        </tr>
      </table>
      <br>
      <hr>
      <table>
        <h3>Sphere Properties</h3>
        <p>All properties for spheres</p>
        <tr>
          <td><b>Property</b></td>
          <td><b>Description</b></td>
        </tr>
        <tr>
          <td>Radius</td>
          <td>Sets the size of the cube.  Larger radii = Larger spheres</td>
        </tr>
        <tr>
          <td>Width Segments</td>
          <td>Sets how many horizontal collison detection vertexes there are.  Higher values mean more accurate collison, but it may affect frame rate.  By settings it to low values, such as 3 or 4, you can make different shapes</td>
        </tr>
        <tr>
          <td>Height Segments</td>
          <td>Sets how many vertical collison detection vertexes there are.  Higher values mean more accurate collison, but it may affect frame rate.  By settings it to low values, such as 3 or 4, you can make different shapes</td>
        </tr>
      </table>
      <br>
      <hr>
      <table>
        <h3>Cylinder Properties</h3>
        <p>All properties for cylinders</p>
        <tr>
          <td><b>Property</b></td>
          <td><b>Description</b></td>
        </tr>
        <tr>
          <td>Top Radius</td>
          <td>Sets the top radius of an object. What else?</td>
        </tr>
        <tr>
          <td>Bottom Radius</td>
          <td>Sets the bottom radius of an object. What else part 2?</td>
        </tr>
        <tr>
          <td>Height</td>
          <td>Sets the height of an object.  Mix and match with Bottom/Top radius for cool results!</td>
        </tr>
        <tr>
          <td>Cylinder Segments</td>
          <td>Sets the number of segments of an object.  Higher values mean more accurate collison, but it may affect frame rate.  Setting it to low can result in cool shapes!</td>
        </tr>
        <tr>
          <td>Start on Side</td>
          <td>Sets if the cylinder should start on it's side.  Useful for placing them on slopes</td>
        </tr>
      </table>
      <br>
      <hr>
      <table>
        <h3>Torus Properties</h3>
        <p>All properties for toruses</p>
        <tr>
          <td><b>Property</b></td>
          <td><b>Description</b></td>
        </tr>
        <tr>
          <td>Start on Side</td>
          <td>Sets if the cylinder should start on it's side.  Useful for placing them on slopes</td>        
        </tr>
        <tr>
          <td>Tube</td>
          <td>Sets how thick the torus should be.  Setting it to a value of 1 will make it filled in</td>
        </tr>
        <tr>
          <td>Radius</td>
          <td>Sets how wide the torus should be.  Changing this value will not automatically change thickness</td>
        </tr>
        <tr>
          <td>Radial Segments</td>
          <td>Sets how circular the torus should be.  Higher values will impact performance, and lower values make cool shapes!</td>
        </tr>
        <tr>
          <td>Tubular Segments</td>
          <td>Sets how circular the side of the torus should be.  It is not recommended to make this value higher as it will impact performance with little to no change in physics. Lower values still make cool shapes :D </td>
        </tr>
      </table>
      <table>
        <h3>Cone</h3>
        <p>All properties for cones</p>
        <tr>
          <td><b>Property</b></td>
          <td><b>Description</b></td>
        </tr>
        <tr>
          <td>Nothing Yet!</td>
          <td>Nothing Yet!</td>
        </tr>
      </table>
    </div>
    <div class="help-tab-faq tab-menu">
      <h1>FAQ</h1>
      <br>
      <h3>Q: I keep getting a "noscript" error?</h3>
      <p>A: Web Physics does not currently support noscript and it is unlikely to ever occur.  If you still want to use Web Physics, you will need to enable Javascript in your browser settings.</p>
      <a href="https://www.impressivewebs.com/how-to-disable-javascript-in-almost-any-browser/">How to Enable/Disable Javascript</a>
      <br>
      <h3>Q: I want to use Web Physics on my Mobile Device but I get an error!</h3>
      <p>A: Web Physics does not support mobile devices.  This is due to styling something you built for computers is not drag and drop to work on mobile devices</p>
      <br>
      <h3>Q: I'm a dev and want to help make this, how would I do that.</h3>
      <p>A: Visit the <a href="https://github.com/Mipppy/web-physics">Github</a> fork it.  After you've modified what you want to, create a pull request.  If I like what you've done with the program, I'll accept the pull request into the main branch.</p>
      <br>
      <h3>Q: I CAN'T LEAVE THE DELETE MODE!!!!!</h3>
      <p>A: Simply click the delete button again</p>
      <br>
      <br>
      <h3>Didn't find what you were looking for?</h3>
      <p>Ask me questions <a href="https://github.com/Mipppy/web-physics/discussions/1">here</a>.</p>
    </div>
  </div>
</body>
<script src="./index.js"></script>
<script>
  window.mobileAndTabletCheck = function() {
  let check = false;
  (function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);
  return check;
};
if (window.mobileAndTabletCheck() == true) {
  document.write("Mobile devices are not supported at this time.")
}
  openTab('help-tab-properties')
  function openTab(tab) {
    hideTabs()
    tabsToOpen = document.getElementsByClassName(tab)
    for (let i = 0; i < tabsToOpen.length; i++) {
      tabsToOpen[i].style.display = 'block'
    }
  }
  function hideTabs() {
    tabs = document.getElementsByClassName('tab-menu')
    for (let i = 0; i < tabs.length; i++) {
      tabs[i].style.display = 'none';
    }
    }


  var helpMenuOpenBool = false
  function openHelpMenu() {
    if (!helpMenuOpenBool) {
      document.getElementById("help-menu").style.display = "block"
      helpMenuOpenBool = true
    } else {
      document.getElementById("help-menu").style.display = "none"
      helpMenuOpenBool = false
    }
  }

  function enforceMinMax(element) {
    if (element.value != "") {
      if (parseInt(element.value) < parseInt(element.min)) {
        element.value = element.min;
      }
      if (parseInt(element.value) > parseInt(element.max)) {
        element.value = element.max;
      }
    }
  }



//DRAGGABLE DIVS CREDIT TO https://www.codewithfaraz.com/content/142/simple-steps-to-create-a-draggable-html-element-with-javascript, AUTHOR: FARAZ
var draggable = document.getElementById('value-changer');

var posX = 0,
    posY = 0,
    mouseX = 0,
    mouseY = 0;

draggable.addEventListener('mousedown', mouseDown, false);
window.addEventListener('mouseup', mouseUp, false);

function mouseDown(e) {
  posX = e.clientX - draggable.offsetLeft;
  posY = e.clientY - draggable.offsetTop;
  window.addEventListener('mousemove', moveElement, false);
}

function mouseUp() {
  window.removeEventListener('mousemove', moveElement, false);
}

function moveElement(e) {
  mouseX = e.clientX - posX;
  mouseY = e.clientY - posY;
  draggable.style.left = mouseX + 'px';
  draggable.style.top = mouseY + 'px';
}
</script>

</html>